/* ===== Root Variables ===== */
:root {
  /* Spacing */
  --pill-space-y: 2px;    /* vertical padding */
  --pill-space-x: 4px;    /* horizontal padding */
  --pill-margin: 2px;     /* margin around pills */
  /* Font sizes */
  --pill-font: 0.75rem;
  --pill-font-small: 0.65rem;
  /* Icon size */
  --pill-emoji-size: 12px;
  /* Border radius */
  --pill-border-radius: 16px;
  /* Price change specific */
  --pill-price-arrow-space: 10px; /* Space for the arrow */
}

/* ===== Pill Component Styles ===== */
.pill {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: var(--pill-space-y) var(--pill-space-x);
  margin: var(--pill-margin);
  border-radius: var(--pill-border-radius);
  font-size: var(--pill-font);
  line-height: 1.2;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  transition: all 0.2s;
  max-width: 100%;
}

.pill::before {
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Container */
.pill-container {
  display: flex;
  flex-wrap: wrap;
  gap: var(--pill-margin);
  margin-bottom: var(--pill-margin);
}

/* Address pills & links */
.address-pill {
  background-color: transparent !important;
  padding: var(--pill-space-y) var(--pill-space-x) !important;
  font-size: var(--pill-font) !important;
  margin: var(--pill-margin) !important;
}

.address-link {
  background-color: transparent !important;
  font-size: var(--pill-font) !important;
}

/* Base variants */
.pill--default   { background: var(--color-bg-light);    color: var(--color-text-secondary); }
.pill--primary   { background: var(--color-primary-light);color: var(--color-primary); }
.pill--success   { background: var(--color-success-light);color: var(--color-success); }
.pill--warning   { background: var(--color-warning-light);color: var(--color-warning); }
.pill--error     { background: var(--color-error-light);  color: var(--color-error); }
.pill--neutral   { background: var(--color-neutral-light);color: var(--color-neutral); }

/* Metro pill */
.pill--metro {
  color: #fff;
  font-weight: 500;
  text-shadow: 0 0 1px rgba(0,0,0,0.3);
}

/* Distance pill */
.pill--distance {
  position: relative;
  padding-left: calc(var(--pill-emoji-size) + var(--pill-space-x));
}

.pill--distance::before {
  content: "ðŸš¶";
  position: absolute;
  left: var(--pill-margin);
  font-size: var(--pill-emoji-size);
  line-height: 1;
  top: 50%;
  transform: translateY(-50%);
}

/* Time pill */
.pill--time {
  background-color: transparent;
  color: #000;
}

/* Regular price */
.pill--price {
  padding: var(--pill-space-y) var(--pill-space-x);
}

/* Activity pill - smaller than standard */
.pill--activity {
  font-size: calc(var(--pill-font) * 0.85);
  padding: calc(var(--pill-space-y) * 0.8) calc(var(--pill-space-x) * 0.8);
  border-radius: calc(var(--pill-border-radius) * 0.9);
}

/* Priceâ€‘change indicators */
.pill--price-change {
  position: relative;
  padding-left: var(--pill-price-arrow-space);
  font-size: calc(var(--pill-font) * 0.73) !important;
  font-weight: 500;
  font-variant-numeric: tabular-nums;
  background-color: transparent;
  border: none;
}

.pill--price-change .arrow,
.pill--price-change span.arrow {
  display: none !important;
}

.pill--price-change::before {
  content: "â†“";
  position: absolute;
  left: var(--pill-margin);
  top: 50%;
  transform: translateY(-50%);
  font-size: inherit;
  line-height: 1;
}

/* Upâ€‘arrow on error modifier */
.pill--price-change.pill--error::before {
  content: "â†‘";
}

.pill--price-change.pill--error {
  color: var(--color-error);
}

.pill--price-change.price-decrease {
  background-color: var(--color-success-light);
  color: var(--color-success);
}

/* Goodâ€‘deal pill */
.pill--good-deal {
  border: none !important;
  background-color: var(--color-success-light) !important;
  color: var(--color-success) !important;
}

.pill--good-deal::before {
  content: none !important;
  display: none !important;
}

/* ===== Responsive - Larger Screens ===== */
@media screen and (min-width: 768px) {
  :root {
    /* Slightly larger than base for tablets/small desktops */
    --pill-space-y: 2.1px;
    --pill-space-x: 4.2px;
    --pill-margin: 2.1px;
    --pill-font: 0.78rem;
    --pill-font-small: 0.68rem;
    --pill-emoji-size: 12.6px;
    --pill-border-radius: 16.8px;
    --pill-price-arrow-space: 10.5px;
  }
}

@media screen and (min-width: 992px) {
  :root {
    /* Regular desktop sizes */
    --pill-space-y: 2.2px;
    --pill-space-x: 4.3px;
    --pill-margin: 2.2px;
    --pill-font: 0.8rem;
    --pill-font-small: 0.7rem;
    --pill-emoji-size: 13px;
    --pill-border-radius: 17px;
    --pill-price-arrow-space: 10.7px;
  }
}

@media screen and (min-width: 1200px) {
  :root {
    /* Large desktops */
    --pill-space-y: 2.3px;
    --pill-space-x: 4.5px;
    --pill-margin: 2.3px;
    --pill-font: 0.83rem;
    --pill-font-small: 0.72rem;
    --pill-emoji-size: 13.4px;
    --pill-border-radius: 17.6px;
    --pill-price-arrow-space: 11px;
  }
}

@media screen and (min-width: 1400px) {
  :root {
    /* Extra large desktops */
    --pill-space-y: 2.4px;
    --pill-space-x: 4.8px;
    --pill-margin: 2.4px;
    --pill-font: 0.87rem;
    --pill-font-small: 0.75rem;
    --pill-emoji-size: 14px;
    --pill-border-radius: 18px;
    --pill-price-arrow-space: 11.6px;
  }
}

/* ===== Responsive - Smaller Screens ===== */
@media screen and (max-width: 580px) {
  :root {
    /* Reduce all sizes by ~15% */
    --pill-space-y: 1.7px;
    --pill-space-x: 3.4px;
    --pill-margin: 1.7px;
    --pill-font: 0.65rem;
    --pill-font-small: 0.56rem;
    --pill-emoji-size: 10px;
    --pill-border-radius: 14px;
    --pill-price-arrow-space: 8.5px;
  }
}

@media screen and (max-width: 485px) {
  :root {
    /* Significantly reduced sizes for very small screens */
    --pill-space-y: 1.4px;
    --pill-space-x: 2.9px;
    --pill-margin: 1.4px;
    --pill-font: 0.55rem;
    --pill-font-small: 0.48rem;
    --pill-emoji-size: 11px;
    --pill-border-radius: 12px;
    --pill-price-arrow-space: 7.5px;
  }

@media screen and (max-width: 3900px) {
  :root {
    /* Significantly reduced sizes for very small screens */
    --pill-space-y: 1.2px;
    --pill-space-x: 2.4px;
    --pill-margin: 1.2px;
    --pill-font: 0.45rem;
    --pill-font-small: 0.4rem;
    --pill-emoji-size: 7px;
    --pill-border-radius: 10px;
    --pill-price-arrow-space: 6px;
  }
    
  /* Make activity pills even smaller on tiny screens */
  .pill--activity {
    font-size: calc(var(--pill-font) * 0.8);
    padding: calc(var(--pill-space-y) * 0.7) calc(var(--pill-space-x) * 0.7);
  }
  
  /* Adjust distance pill for very small sizes */
  .pill--distance {
    padding-left: calc(var(--pill-emoji-size) + var(--pill-space-x) * 1.5);
  }
}